(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,r){e.exports=r(19)},15:function(e,t,r){},17:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(2),i=r.n(s),o=(r(15),r(3)),c=r(4),h=r(6),l=r(5),p=r(7),g=r(1),m=(r(17),r(8)),u={centerPos:{left:0,top:0},hPosRange:{leftSecX:[0,0],rightSecX:[0,0],y:[0,0]},vPosRange:{x:[0,0],topY:[0,0]}};function f(e,t){return Math.ceil(Math.random()*(t-e)+e)}function d(){return(Math.random()>.5?"":"-")+Math.ceil(30*Math.random())}var v=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(h.a)(this,Object(l.a)(t).call(this,e))).handleClick=r.handleClick.bind(Object(g.a)(Object(g.a)(r))),r}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){this.props.arrange.isCenter?this.props.inverse():this.props.center(),e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){var e="controller-utit";return this.props.arrange.isCenter&&(e+=" is-center",this.props.arrange.isInverse&&(e+=" is-inverse")),n.a.createElement("span",{className:e,onClick:this.handleClick})}}]),t}(a.Component),k=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(h.a)(this,Object(l.a)(t).call(this,e))).handleClick=r.handleClick.bind(Object(g.a)(Object(g.a)(r))),r}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={MozTransform:"",msTransform:"",WebkitTransform:"",transform:""};this.props.arrange.pos&&Object.assign(e,this.props.arrange.pos),this.props.arrange.rotate&&(e.transform="rotate("+this.props.arrange.rotate+"deg)",e.MozTransform="rotate("+this.props.arrange.rotate+"deg)",e.msTransform="rotate("+this.props.arrange.rotate+"deg)",e.WebkitTransform="rotate("+this.props.arrange.rotate+"deg)"),this.props.arrange.isCenter&&(e.zIndex=11);var t="img-figure";return t+=this.props.arrange.isInverse?" is-inverse":"",n.a.createElement("figure",{className:t,style:e,onClick:this.handleClick},n.a.createElement("div",{className:"img"},n.a.createElement("img",{src:this.props.data.img,alt:"img"}),n.a.createElement("figcaption",null,n.a.createElement("h2",{className:"img-title"},this.props.data.tit))),n.a.createElement("div",{className:"img-back",onClick:this.handleClick},n.a.createElement("p",null,"hello",this.props.data.desc)))}},{key:"handleClick",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.arrange.isCenter?this.props.inverse():this.props.center()}}]),t}(a.Component),b=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(h.a)(this,Object(l.a)(t).call(this,e))).state={imgsArrangeArr:[]},r}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=[];return m.map(function(r,a){e.state.imgsArrangeArr[a]||(e.state.imgsArrangeArr[a]={pos:{left:0,top:0},rotate:0,isInverse:!1,isCenter:!1}),t.push(n.a.createElement(v,{key:a,arrange:e.state.imgsArrangeArr[a],inverse:e.inverse(a),center:e.center(a)}))}),n.a.createElement("section",{className:"stage",ref:"stage"},n.a.createElement("section",{className:"img-sec"},m.map(function(t,r){return n.a.createElement(k,{data:t,key:r,ref:"ImgFigure"+r,arrange:e.state.imgsArrangeArr[r],inverse:e.inverse(r),center:e.center(r)})})),n.a.createElement("nav",{className:"controller-nav"},t))}},{key:"componentDidMount",value:function(){var e=this.refs.stage,t=e.scrollWidth,r=e.scrollHeight,a=Math.ceil(t/2),n=Math.ceil(r/2),s=i.a.findDOMNode(this.refs.ImgFigure0),o=s.scrollWidth,c=s.scrollHeight,h=Math.ceil(o/2),l=Math.ceil(c/2);u.centerPos={left:a-h,top:n-l},u.hPosRange.leftSecX[0]=-h,u.hPosRange.leftSecX[1]=a-3*h,u.hPosRange.rightSecX[0]=a+h,u.hPosRange.rightSecX[1]=t-h,u.hPosRange.y[0]=-l,u.hPosRange.y[1]=r-l,u.vPosRange.topY[0]=-l,u.vPosRange.topY[1]=n-3*l,u.vPosRange.x[0]=a-o,u.vPosRange.x[1]=a,this.rearrange(0)}},{key:"rearrange",value:function(e){var t,r=this.state.imgsArrangeArr,a=u.centerPos,n=u.hPosRange,s=u.vPosRange,i=n.leftSecX,o=n.rightSecX,c=n.y,h=s.topY,l=s.x,p=[],g=Math.floor(2*Math.random()),m=r.splice(e,1);m[0]={pos:a,rotate:0,isCenter:!0},t=Math.ceil(Math.random()*(r.length-g)),(p=r.splice(t,g)).forEach(function(e,t){p[t]={pos:{top:f(h[0],h[1]),left:f(l[0],l[1])},rotate:d(),isCenter:!1}});for(var v=0,k=r.length,b=k/2;v<k;v++){var j=null;j=v<b?i:o,r[v]={pos:{top:f(c[0],c[1]),left:f(j[0],j[1])},rotate:d(),isCenter:!1}}p&&p[0]&&r.splice(t,0,p[0]),r.splice(e,0,m[0]),this.setState({imgsArrangeArr:r})}},{key:"inverse",value:function(e){return function(){var t=this.state.imgsArrangeArr;t[e].isInverse=!t[e].isInverse,this.setState({imgsArrangeArr:t})}.bind(this)}},{key:"center",value:function(e){return function(){this.rearrange(e)}.bind(this)}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e){e.exports=[{img:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=4094402969,2033675904&fm=26&gp=0.jpg",tit:"\u6211\u7231\u7f57",description:"\u6211\u7231\u7f57\u6211\u7231\u7f57\u6211\u7231\u7f57"},{img:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1855009811,2786395703&fm=26&gp=0.jpg",tit:"\u6211\u7231\u7f57",description:"\u6211\u7231\u7f57\u6211\u7231\u7f57\u6211\u7231\u7f57"},{img:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3938115519,2966759642&fm=26&gp=0.jpg",tit:"\u6211\u7231\u7f57",description:"\u6211\u7231\u7f57\u6211\u7231\u7f57\u6211\u7231\u7f57"},{img:"https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2459308301,2823059828&fm=26&gp=0.jpg",tit:"\u6211\u7231\u7f57",description:"\u6211\u7231\u7f57\u6211\u7231\u7f57\u6211\u7231\u7f57"},{img:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3159441314,2542173777&fm=26&gp=0.jpg",tit:"\u4f50\u52a9",description:"\u4f50\u52a9\u4f50\u52a9\u4f50\u52a9\u4f50\u52a9"},{img:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3574940553,1168431642&fm=26&gp=0.jpg",tit:"\u5361\u5361\u897f",description:"\u5361\u5361\u897f\u5361\u5361\u897f\u5361\u5361\u897f\u5361\u5361\u897f"}]}},[[10,2,1]]]);
//# sourceMappingURL=main.21640507.chunk.js.map